--------------------------------------------------------------------------------
 Hot Soup Processor スクリプトエディタ 外部ツール SDK for HSP3
--------------------------------------------------------------------------------

・はじめに

このマニュアルは、HSPのスクリプトエディタ(以下エディタと表記)専用の
外部ツールをHSP3を使って開発するためのSDKの使用法と、注意点について
解説します。



・基本的な利用方法

sdk\hsp3にあるhsedsdk.asをソースのあるディレクトリ、もしくは、
commonディレクトリにコピーします。そして、ソース上に
#include "hsedsdk.as"を書くだけです。
後は、命令(関数)を利用することができます。
詳しくはサンプルを参照してください。



・命令(関数)リファレンス

hsed_exist - エディタが起動しているか確認
	エディタが起動していた場合はstatに1、起動していなかった場合は0が
	代入されます。

hsed_getver p1, p2 - エディタのバージョン取得
	p2で指定された種類のエディタのバージョンを取得し、p1に代入します。
	取得に失敗した場合は、原則としてp1に-1を代入します。
	ただし、p2にHGV_HSPCMPVERが指定されていた場合は、"Error"を代入します。

	statに代入される値は以下の通りです。
	0: 取得に成功
	1: エディタが見つからなかった
	2: パイプが作れなかった
	3: エディタが正しい値を返せなかった(p2が正しくない場合含む)

	p2に指定する値は以下の通りです。HGV_で始まる定数を用いても、
	括弧内の数字を用いても構いません。
	HGV_PUBLICVER(0): パブリック バージョン(エディタ公開時点での次のバージョン)。
		16進数で上4桁メジャー バージョン、5〜6桁目マイナー バージョン
        7〜8桁目βバージョン(βでなければ0)。(例:Ver1.02b3→$00010203)
		hsed_getmajorver(), hsed_getminorver(), hsed_getbetaver()で各値を取得できます。
		また、hsed_cnvverstrで、文字列に変換することも可能です。
	HGV_PRIVATEVER(1): プライベート バージョン。HGV_PUBLICBERと同じ形式です。
	HGV_HSPCMPVER(2): hspcmp.dllからhsc_verで取得したバージョン(文字列)が代入されます。
	HGV_FOOTYVER(3): FootyからGetFootyVerで取得したバージョンが代入されます。
		バージョンを100倍した数値が返ります。(例:Ver1.23→123)
	HGV_FOOTYBETAVER(4): FootyからGetFootyBetaVerで取得したバージョンが代入されます。
		ベータ バージョンがそのまま代入されます。
		ベータ バージョンではない場合は0が代入されます。

hsed_getwnd p1, p2(, p3) - エディタのウィンドウ ハンドル取得
	p2で指定された種類のエディタのウィンドウ ハンドルを取得し、p1に代入します。
	p2でHGW_EDITを指定した場合は、p3でFootyのIDを指定する必要があります。
	取得に失敗した場合は、p1に0を代入します。

	statに代入される値は以下の通りです。
	0: 取得に成功
	1: エディタが見つからなかった
	2: エディタが正しい値を返せなかった(p2が正しくない場合含む)

	p2に指定する値は以下の通りです。HGW_で始まる定数を用いても、
	括弧内の数字を用いても構いません。
	HGW_MAIN(0): メイン ウィンドウ
	HGW_CLIENT(1): クライアント ウィンドウ
	HGW_TAB(2): タブ ウィンドウ
	HGW_EDIT(3): Footy ウィンドウ
	HGW_TOOLBAR(4): ツールバー
	HGW_STATUSBAR(5): ステータスバー

hsed_getmajorver(p1) - メジャー バージョンを抽出
	p1で指定されたバージョンからメジャー バージョンのみを抽出します。
	ここで指定できる値は、hsed_getverにHGV_PUBLICVERもしくはHGV_PRIVATEVERを
	指定して取得したバージョンのみです。

hsed_getminorver(p1) - マイナー バージョンを抽出
	p1で指定されたバージョンからマイナー バージョンのみを抽出します。
	ここで指定できる値は、hsed_getverにHGV_PUBLICVERもしくはHGV_PRIVATEVERを
	指定して取得したバージョンのみです。

hsed_getbetaver(p1) - ベータ バージョンを抽出
	p1で指定されたバージョンからベータ バージョンのみを抽出します。
	ここで指定できる値は、hsed_getverにHGV_PUBLICVERもしくはHGV_PRIVATEVERを
	指定して取得したバージョンのみです。

hsed_cnvverstr p1 - バージョンを文字列に変換
	p1で指定されたバージョンを文字列に変換し、refstrに代入します。
	"(メジャーバージョン).(マイナーバージョン)"の形式です。
	ただし、ベータバージョンの場合は末尾に"b(ベータバージョン)"が加えられます。
	ここで指定できる値は、hsed_getverにHGV_PUBLICVERもしくはHGV_PRIVATEVERを
	指定して取得したバージョンのみです。